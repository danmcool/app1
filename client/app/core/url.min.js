app1.controller("UrlCtrl",["$scope","$routeParams","$location","SessionService",function(a,e,t,s){ga("send","pageview","/app/url"),a.sessionData=s.getSessionData(),a.workflow=!1,a.workflow_translated_name=null;var o=function(){if("undefined"==e.url_iframe||"undefined"==e.application_id)s.location("/applications");else{if(a.sessionData.application_id=e.application_id,a.sessionData.applications){for(var t=a.sessionData.applications,o=0;o<t.length;o++)if(t[o].translated_name=s.translate(t[o].name),t[o].translated_description=s.translate(t[o].description),t[o]._id==e.application_id){if(a.sessionData.applicationName=t[o].translated_name,e.workflow_id)for(var i=0;i<t[o].workflows.length;i++)t[o].workflows[i]._id==e.workflow_id&&(a.workflow_translated_name=s.translate(t[o].workflows[i].name));break}s.setSessionData(a.sessionData)}e.workflow_id&&(a.workflow=!0),document.getElementById("iframe_url").src=e.iframe_url}};a.$watch(function(){return s.getSessionData().applications},function(e,t){e!=t&&(a.sessionData=s.getSessionData(),o())}),a.home=function(){s.location("/workflows/"+e.application_id)},o()}]);
