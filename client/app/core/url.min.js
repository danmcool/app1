app1.controller("UrlCtrl",["$scope","$routeParams","$location","SessionService",function(a,i,e,s){a.sessionData=s.getSessionData(),a.workflow=!1,a.workflow_translated_name=null;var t=function(){if("undefined"==i.url_iframe||"undefined"==i.application_id)s.url("/applications");else{if(a.sessionData.application_id=i.application_id,a.sessionData.applications){for(var e=a.sessionData.applications,t=0;t<e.length;t++)if(e[t].translated_name=s.translate(e[t].name),e[t].translated_description=s.translate(e[t].description),e[t]._id==i.application_id){if(a.sessionData.applicationName=e[t].translated_name,i.workflow_id)for(var o=0;o<e[t].workflows.length;o++)e[t].workflows[o]._id==i.workflow_id&&(a.workflow_translated_name=s.translate(e[t].workflows[o].name));break}s.setSessionData(a.sessionData)}i.workflow_id&&(a.workflow=!0),document.getElementById("iframe_url").src=i.iframe_url}};a.$watch(function(){return s.getSessionData().applications},function(i,e){i!=e&&(a.sessionData=s.getSessionData(),t())}),a.home=function(){s.url("/workflows/"+i.application_id)},t()}]);
