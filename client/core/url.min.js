app1.controller("UrlCtrl",["$scope","$routeParams","$location","SessionService",function(e,a,t,i){e.sessionData=i.getSessionData(),e.workflow=!1,e.workflow_translated_name=null;var o=function(){if("undefined"==a.url_iframe||"undefined"==a.application_id)t.url("/applications");else{if(e.sessionData.application_id=a.application_id,e.sessionData.applications){for(var o=e.sessionData.applications,n=0;n<o.length;n++)if(o[n].translated_name=i.translate(o[n].name),o[n].translated_description=i.translate(o[n].description),o[n]._id==a.application_id){if(e.sessionData.applicationName=o[n].translated_name,a.workflow_id)for(var s=0;s<o[n].workflows.length;s++)o[n].workflows[s]._id==a.workflow_id&&(e.workflow_translated_name=i.translate(o[n].workflows[s].name));break}i.setSessionData(e.sessionData)}a.workflow_id&&(e.workflow=!0),document.getElementById("iframe_url").src=a.iframe_url}};e.$watch(function(){return i.getSessionData().applications},function(a,t){a!=t&&(e.sessionData=i.getSessionData(),o())}),e.home=function(){t.url("/workflows/"+a.application_id)},o()}]);
