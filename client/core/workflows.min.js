app1.controller("WorkflowsCtrl",["$scope","$routeParams","$location","SessionService",function(e,a,t,i){e.sessionData=i.getSessionData();var o=function(){if("undefined"==a.application_id)t.url("/applications");else if(e.sessionData.application_id=a.application_id,e.sessionData.applications){for(var o=e.sessionData.applications,n=0;n<o.length;n++)if(o[n].translated_name=i.translate(o[n].name),o[n].translated_description=i.translate(o[n].description),o[n]._id==a.application_id){e.workflows=o[n].workflows,e.sessionData.applicationName=o[n].translated_name;break}for(var n=0;n<e.workflows.length;n++)e.workflows[n].translated_name=i.translate(e.workflows[n].name),e.workflows[n].translated_description=i.translate(e.workflows[n].description);e.sessionData.showShareForm=!1,i.setSessionData(e.sessionData)}};e.$watch(function(){return i.getSessionData().applications},function(a,t){a!=t&&(e.sessionData=i.getSessionData(),o())}),e.open=function(e){"url"==e.type?t.url("/url/"+a.application_id+"?iframe_url="+e.url+"&workflow_id="+e._id):"file"==e.type?t.url("/file/"+a.application_id+"?iframe_file="+e.file+"&workflow_id="+e._id):t.url("/form/"+e.startup_form+"/0?application_id="+a.application_id)},o()}]);
