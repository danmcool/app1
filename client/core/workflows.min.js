app1.controller("WorkflowsCtrl",["$scope","$routeParams","$location","SessionService",function(e,t,a,o){e.sessionData=o.getSessionData();var n=function(){if("undefined"==t.application_id)o.location("/applications");else if(e.sessionData.application_id=t.application_id,e.sessionData.applications){for(var a=e.sessionData.applications,n=0;n<a.length;n++)if(a[n].translated_name=o.translate(a[n].name),a[n].translated_description=o.translate(a[n].description),a[n]._id==t.application_id){e.workflows=a[n].workflows,e.sessionData.applicationName=a[n].translated_name;break}for(var n=0;n<e.workflows.length;n++)e.workflows[n].translated_name=o.translate(e.workflows[n].name),e.workflows[n].translated_description=o.translate(e.workflows[n].description);e.sessionData.showShareForm=!1,o.setSessionData(e.sessionData)}};e.$watch(function(){return o.getSessionData().applications},function(t,a){t!=a&&(e.sessionData=o.getSessionData(),n())}),e.open=function(e){"url"==e.type?o.location("/url/"+t.application_id+"?iframe_url="+e.url+"&workflow_id="+e._id):"file"==e.type?o.location("/file/"+t.application_id+"?iframe_file="+e.file+"&workflow_id="+e._id):o.location("/form/"+e.startup_form+"/0?application_id="+t.application_id)},n()}]);
