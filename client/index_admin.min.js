angular.module("app1_admin",["ngRoute","ngResource","ngMaterial"]).directive("jsonText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,o,a){function r(e){return JSON.parse(e)}function n(e){return JSON.stringify(e)}a.$parsers.push(r),a.$formatters.push(n)}}}).factory("Workflows",function(e){return e("/api/workflow/:id",null,{update:{method:"PUT"}})}).factory("Applications",function(e){return e("/api/application/:id",null,{update:{method:"PUT"}})}).factory("Forms",function(e){return e("/api/form/:id",null,{update:{method:"PUT"}})}).factory("Values",function(e){return e("/api/value/:id",null,{update:{method:"PUT"}})}).factory("UserProfiles",function(e){return e("/api/userprofile/:id",null,{update:{method:"PUT"}})}).factory("Sessions",function(e){return e("/api/session/:id",null,{update:{method:"PUT"}})}).factory("Companies",function(e){return e("/api/company/:id",null,{update:{method:"PUT"}})}).factory("Users",function(e){return e("/api/user/:id",null,{update:{method:"PUT"}})}).factory("Files",function(e){return e("/file/:id",null,{update:{method:"PUT"}})}).factory("DataModels",function(e){return e("/api/datamodel/:id",null,{update:{method:"PUT"}})}).factory("Update",function(e){return e("/api/update",null,{update:{method:"PUT"}})}).controller("WorkflowsCtrl",function(e,t,o){e.workflows=t.query({skip:0,limit:100}),e.save=function(){if(e.newWorkflow&&!(e.newWorkflow.length<1)){var o=new t({name:{en:e.newWorkflow}});o.$save(function(){e.workflows.push(o),e.newWorkflow=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.workflows[a];t.remove({id:o._id},function(){e.workflows.splice(a,1)})})}}).controller("ApplicationsCtrl",function(e,t,o){e.applications=t.query({skip:0,limit:100}),e.save=function(){if(e.newApplication&&!(e.newApplication.length<1)){var o=new t({name:{en:e.newApplication}});o.$save(function(){e.applications.push(o),e.newApplication=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.applications[a];t.remove({id:o._id},function(){e.applications.splice(a,1)})})}}).controller("FormsCtrl",function(e,t,o){e.forms=t.query({skip:0,limit:100}),e.save=function(){if(e.newForm&&!(e.newForm.length<1)){var o=new t({name:{en:e.newForm}});o.$save(function(){e.forms.push(o),e.newForm=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.forms[a];t.remove({id:o._id},function(){e.forms.splice(a,1)})})}}).controller("ValuesCtrl",function(e,t,o){e.values=t.query({skip:0,limit:100}),e.save=function(){if(e.newValue&&!(e.newValue.length<1)){var o=new t({name:{en:e.newValue}});o.$save(function(){e.values.push(o),e.newValue=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.values[a];t.remove({id:o._id},function(){e.values.splice(a,1)})})}}).controller("UserProfilesCtrl",function(e,t,o){e.userprofiles=t.query({skip:0,limit:100}),e.save=function(){if(e.newUserProfile&&!(e.newUserProfile.length<1)){var o=new t({name:{en:e.newUserProfile}});o.$save(function(){e.userprofiles.push(o),e.newUserProfile=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.userprofiles[a];t.remove({id:o._id},function(){e.userprofiles.splice(a,1)})})}}).controller("SessionsCtrl",function(e,t,o){e.sessions=t.query({skip:0,limit:100}),e.save=function(){if(e.newSession&&!(e.newSession.length<1)){var o=new t({name:{en:e.newSession}});o.$save(function(){e.sessions.push(o),e.newSession=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.sessions[a];t.remove({id:o._id},function(){e.sessions.splice(a,1)})})}}).controller("CompaniesCtrl",function(e,t,o){e.companies=t.query({skip:0,limit:100}),e.save=function(){if(e.newCompany&&!(e.newCompany.length<1)){var o=new t({name:e.newCompany,_company_code:e.newCompany});o.$save(function(){e.companies.push(o),e.newCompany=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.companies[a];t.remove({id:o._id},function(){e.companies.splice(a,1)})})}}).controller("UsersCtrl",function(e,t,o){e.users=t.query({skip:0,limit:100}),e.save=function(){if(e.newUser&&!(e.newUser.length<1)){var o=new t({user:e.newUser});o.$save(function(){e.users.push(o),e.newUser=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.users[a];t.remove({id:o._id},function(){e.users.splice(a,1)})})}}).controller("FilesCtrl",function(e,t,o){e.files=t.query({skip:0,limit:100}),e.save=function(){if(e.newFile&&!(e.newFile.length<1)){var o=new t({file:e.newFile});o.$save(function(){e.files.push(o),e.newFile=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){e.files[a];t.remove({id:file._id},function(){e.files.splice(a,1)})})}}).controller("DataModelsCtrl",function(e,t,o){e.datamodels=t.query({skip:0,limit:100}),e.save=function(){if(e.newDataModel&&!(e.newDataModel.length<1)){var o=new t({name:{en:e.newDataModel}});o.$save(function(){e.datamodels.push(o),e.newDataModel=""})}},e.remove=function(a){o.show(o.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title("Remove object?").ok("Yes").cancel("No")).then(function(){var o=e.datamodels[a];t.remove({id:o._id},function(){e.datamodels.splice(a,1)})})}}).controller("WorkflowDetailsCtrl",function(e,t,o,a){e.workflow=o.get({id:t.id}),e.update=function(){o.update({id:e.workflow._id},e.workflow,function(){a.url("/workflows")})}}).controller("ApplicationDetailsCtrl",function(e,t,o,a){e.application=o.get({id:t.id}),e.update=function(){o.update({id:e.application._id},e.application,function(){a.url("/applications")})}}).controller("DataModelDetailsCtrl",function(e,t,o,a){e.datamodel=o.get({id:t.id}),e.update=function(){o.update({id:e.datamodel._id},e.datamodel,function(){a.url("/datamodels")})}}).controller("FormDetailsCtrl",function(e,t,o,a){e.form=o.get({id:t.id}),e.update=function(){o.update({id:e.form._id},e.form,function(){a.url("/forms")})}}).controller("ValueDetailsCtrl",function(e,t,o,a){e.value=o.get({id:t.id}),e.update=function(){o.update({id:e.value._id},e.value,function(){a.url("/values")})}}).controller("UserProfileDetailsCtrl",function(e,t,o,a){e.userprofile=o.get({id:t.id}),e.update=function(){o.update({id:e.userprofile._id},e.userprofile,function(){a.url("/userprofiles")})}}).controller("SessionDetailsCtrl",function(e,t,o,a){e.session=o.get({id:t.id}),e.update=function(){o.update({id:e.session._id},e.session,function(){a.url("/sessions")})}}).controller("CompanyDetailsCtrl",function(e,t,o,a){e.company=o.get({id:t.id}),e.update=function(){o.update({id:e.company._id},e.company,function(){a.url("/companies")})}}).controller("UserDetailsCtrl",function(e,t,o,a){e.user=o.get({id:t.id}),e.update=function(){o.update({id:e.user._id},e.user,function(){a.url("/users")})}}).controller("FileDetailsCtrl",function(e,t,o,a){e.file=o.get({id:t.id}),e.update=function(){o.update({id:e.file._id},e.file,function(){a.url("/files")})}}).controller("UpdateCtrl",function(e,t){e.update=function(){t.update({},{repository:e.update.repository},function(t){e.update=t})}}).controller("LeftCtrl",function(e,t,o,a){e.close=function(){o("left").close()}}).controller("AppCtrl",function(e,t,o,a){function r(o,a,r){var n;return function(){var r=e,i=Array.prototype.slice.call(arguments);t.cancel(n),n=t(function(){n=void 0,o.apply(r,i)},a||10)}}function n(e){return r(function(){o(e).toggle().then(function(){a.debug("toggle "+e+" is done")})},200)}e.toggleLeft=n("left")}).config(["$routeProvider",function(e){e.when("/about",{templateUrl:"welcome.html"}).when("/datamodels",{templateUrl:"datamodels.html",controller:"DataModelsCtrl"}).when("/datamodels/:id",{templateUrl:"datamodelDetails.html",controller:"DataModelDetailsCtrl"}).when("/forms",{templateUrl:"forms.html",controller:"FormsCtrl"}).when("/forms/:id",{templateUrl:"formDetails.html",controller:"FormDetailsCtrl"}).when("/values",{templateUrl:"values.html",controller:"ValuesCtrl"}).when("/values/:id",{templateUrl:"valueDetails.html",controller:"ValueDetailsCtrl"}).when("/userprofiles",{templateUrl:"userprofiles.html",controller:"UserProfilesCtrl"}).when("/userprofiles/:id",{templateUrl:"userprofileDetails.html",controller:"UserProfileDetailsCtrl"}).when("/sessions",{templateUrl:"sessions.html",controller:"SessionsCtrl"}).when("/sessions/:id",{templateUrl:"sessionDetails.html",controller:"SessionDetailsCtrl"}).when("/companies",{templateUrl:"companies.html",controller:"CompaniesCtrl"}).when("/companies/:id",{templateUrl:"companyDetails.html",controller:"CompanyDetailsCtrl"}).when("/users",{templateUrl:"users.html",controller:"UsersCtrl"}).when("/users/:id",{templateUrl:"userDetails.html",controller:"UserDetailsCtrl"}).when("/files",{templateUrl:"files.html",controller:"FilesCtrl"}).when("/files/:id",{templateUrl:"fileDetails.html",controller:"FileDetailsCtrl"}).when("/workflows",{templateUrl:"workflows.html",controller:"WorkflowsCtrl"}).when("/workflows/:id",{templateUrl:"workflowDetails.html",controller:"WorkflowDetailsCtrl"}).when("/applications",{templateUrl:"applications.html",controller:"ApplicationsCtrl"}).when("/applications/:id",{templateUrl:"applicationDetails.html",controller:"ApplicationDetailsCtrl"}).when("/update",{templateUrl:"update.html",controller:"UpdateCtrl"}).otherwise({redirectTo:"/",templateUrl:"welcome.html"})}]);
